<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Developer Environment Setup - devhub-tracks</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A Substrate Track Model for the Devhub">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../OUTLINE.html">OUTLINE</a></li><li class="chapter-item expanded "><a href="../overview/devhub-overview.html"><strong aria-hidden="true">1.</strong> Devhub Overview</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../overview/before-starting.html"><strong aria-hidden="true">1.1.</strong> Before Starting</a></li><li class="chapter-item expanded "><a href="../overview/rust-companion.html"><strong aria-hidden="true">1.2.</strong> Rust Companion</a></li><li class="chapter-item expanded "><a href="../overview/architecture.html"><strong aria-hidden="true">1.3.</strong> Substrate Architecture</a></li></ol></li><li class="chapter-item expanded "><a href="../main/main-overview.html"><strong aria-hidden="true">2.</strong> Main Track: Substrate Kitties</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../main/dev-env.html" class="active"><strong aria-hidden="true">2.1.</strong> Developer Environment Setup</a></li><li class="chapter-item expanded "><a href="../main/first-chain/install.html"><strong aria-hidden="true">2.2.</strong> Install Substrate Templates</a></li><li class="chapter-item expanded "><a href="../main/first-chain/interact.html"><strong aria-hidden="true">2.3.</strong> Start a Node and Interact</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">devhub-tracks</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="substrate-developer-environment-setup"><a class="header" href="#substrate-developer-environment-setup">Substrate Developer Environment Setup</a></h1>
<p>This page will guide you through the <strong>2 steps</strong> needed to prepare a computer for <strong>Substrate</strong> development.
Since Substrate is built with <a href="https://www.rust-lang.org/">the Rust programming language</a>, the first
thing you will need to do is prepare the computer for Rust development - these steps will vary based
on the computer's operating system. Once Rust is configured, you will use its toolchains to interact
with Rust projects; the commands for Rust's toolchains will be the same for all supported,
Unix-based operating systems.</p>
<h2 id="1-build-dependencies"><a class="header" href="#1-build-dependencies">1. Build Dependencies</a></h2>
<p>Substrate development is easiest on Unix-based operating systems like macOS or Linux. The examples
in the Substrate <a href="../../../../tutorials">Tutorials</a> and <a href="https://substrate.dev/recipes/">Recipes</a>
use Unix-style terminals to demonstrate how to interact with Substrate from the command line.</p>
<h3 id="ubuntudebian"><a class="header" href="#ubuntudebian">Ubuntu/Debian</a></h3>
<p>Use a terminal shell to execute the following commands:</p>
<pre><code class="language-bash">sudo apt update
# May prompt for location information
sudo apt install -y git clang curl libssl-dev llvm libudev-dev
</code></pre>
<h3 id="arch-linux"><a class="header" href="#arch-linux">Arch Linux</a></h3>
<p>Run these commands from a terminal:</p>
<pre><code class="language-bash">pacman -Syu --needed --noconfirm curl git clang
</code></pre>
<h3 id="fedora"><a class="header" href="#fedora">Fedora</a></h3>
<p>Run these commands from a terminal:</p>
<pre><code class="language-bash">sudo dnf update
sudo dnf install clang curl git openssl-devel
</code></pre>
<h3 id="opensuse"><a class="header" href="#opensuse">OpenSUSE</a></h3>
<p>Run these commands from a terminal:</p>
<pre><code class="language-bash">sudo zypper install clang curl git openssl-devel llvm-devel libudev-devel
</code></pre>
<h3 id="macos"><a class="header" href="#macos">macOS</a></h3>
<blockquote>
<p>NOTE: The Apple M1 ARM system on a chip is not very well supported yet by rust,
and thus you very likely will run into build errors stemming from this. It is best,
for the near term, to avoid using M1s for Substrate development. If you do decide to
give it a try despite this, see
<a href="https://vikiival.medium.com/run-substrate-on-apple-m1-a2699743fae8">this community guide</a>
for details on extra configuration steps to get things working.</p>
</blockquote>
<p>Open the Terminal application and execute the following commands:</p>
<pre><code class="language-bash"># Install Homebrew if necessary https://brew.sh/
/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)&quot;

# Make sure Homebrew is up-to-date, install openssl
brew update
brew install openssl
</code></pre>
<h3 id="windows"><a class="header" href="#windows">Windows</a></h3>
<blockquote>
<p><strong>Note:</strong> Native development of Substrate is <em>not</em> very well supported! It is <em>highly</em> recommend to
use <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows Subsystem Linux</a> (WSL)
and follow the instructions for <a href="#ubuntudebian">Ubuntu/Debian</a>.</p>
</blockquote>
<p>Please refer to the separate <a href="windows-users">guide for native Windows development</a>.</p>
<h2 id="2-rust-developer-environment"><a class="header" href="#2-rust-developer-environment">2. Rust Developer Environment</a></h2>
<h3 id="automated-getsubstrateio-script"><a class="header" href="#automated-getsubstrateio-script">Automated <code>getsubstrate.io</code> Script</a></h3>
<p>For most users you can run our script to automate the steps listed below:</p>
<pre><code class="language-bash">curl https://getsubstrate.io -sSf | bash -s -- --fast
</code></pre>
<p>If this gives any errors, please follow the steps below to manually configure rust on your machine.</p>
<h3 id="manual-rust-configuration"><a class="header" href="#manual-rust-configuration">Manual Rust Configuration</a></h3>
<p>This guide uses <a href="https://rustup.rs/"><code>rustup</code></a> to help manage the Rust toolchain. First install and
configure <code>rustup</code>:</p>
<pre><code class="language-bash"># Install
curl https://sh.rustup.rs -sSf | sh
# Configure
source ~/.cargo/env
</code></pre>
<p>Configure the Rust toolchain to default to the latest stable version, add nightly and the nightly wasm target:</p>
<pre><code class="language-bash">rustup default stable
rustup update
rustup update nightly
rustup target add wasm32-unknown-unknown --toolchain nightly
</code></pre>
<h2 id="test-your-set-up"><a class="header" href="#test-your-set-up">Test Your Set-Up!</a></h2>
<p>Now the best way to ensure that you have successfully prepared a computer for Substrate
development is to follow the steps in our first tutorial:</p>
<p><strong>&gt; <a href="../../tutorials/create-your-first-substrate-chain/">Create Your First Substrate Chain</a> &lt;</strong></p>
<hr />
<blockquote>
<p><strong>For more details on <em>why</em> these dependancies are used, and for <em>troubleshooting</em> errors building the template, read on.</strong></p>
</blockquote>
<hr />
<h2 id="troubleshooting-substrate-builds"><a class="header" href="#troubleshooting-substrate-builds">Troubleshooting Substrate Builds</a></h2>
<p>Sometimes you can't get the <a href="https://github.com/substrate-developer-hub/">substrate developer hub</a> templates to compile out of
the box. Here are some tips to help you work through that.</p>
<h3 id="rust-configuration-check"><a class="header" href="#rust-configuration-check">Rust Configuration Check</a></h3>
<p>To see what Rust toolchain you are presently using, run:</p>
<pre><code class="language-bash">rustup show
</code></pre>
<p>This will show something like this (Ubuntu example) output:</p>
<pre><code class="language-text">Default host: x86_64-unknown-linux-gnu
rustup home:  /home/user/.rustup

installed toolchains
--------------------

stable-x86_64-unknown-linux-gnu (default)
nightly-2020-10-06-x86_64-unknown-linux-gnu
nightly-x86_64-unknown-linux-gnu

installed targets for active toolchain
--------------------------------------

wasm32-unknown-unknown
x86_64-unknown-linux-gnu

active toolchain
----------------

stable-x86_64-unknown-linux-gnu (default)
rustc 1.50.0 (cb75ad5db 2021-02-10)
</code></pre>
<p>As you can see above, the default toolchain is stable, and the
<code>nightly-x86_64-unknown-linux-gnu</code> toolchain as well as its <code>wasm32-unknown-unknown</code> target is installed.
You also see that <code>nightly-2020-10-06-x86_64-unknown-linux-gnu</code> is installed, but is not used unless explicitly defined as illustrated in the <a href="#specifying-nightly-version">specify your nightly version</a>
section.</p>
<h3 id="webassembly-compilation"><a class="header" href="#webassembly-compilation">WebAssembly Compilation</a></h3>
<p>Substrate uses <a href="https://webassembly.org/">WebAssembly</a> (Wasm) to produce portable blockchain
runtimes. You will need to configure your Rust compiler to use
<a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html"><code>nightly</code> builds</a> to allow you to
compile Substrate runtime code to the Wasm target.</p>
<blockquote>
<p>There are upstream issues in Rust that need to be resolved before all of Substrate can use
the stable Rust toolchain -
<a href="https://github.com/paritytech/substrate/issues/1252">this is our tracking issue</a>
if you are curious as to why and how this may be resolved.</p>
</blockquote>
<h4 id="latest-nightly-for-substrate-master"><a class="header" href="#latest-nightly-for-substrate-master">Latest Nightly for Substrate <code>master</code></a></h4>
<p>Developers who are building Substrate <em>itself</em> should always use the latest bug-free versions of
Rust stable and nightly. This is because the Substrate codebase follows the tip of Rust nightly,
which means that changes in Substrate often depend on upstream changes in the Rust nightly compiler.
To ensure your Rust compiler is always up to date, you should run:</p>
<pre><code class="language-bash">rustup update
rustup update nightly
rustup target add wasm32-unknown-unknown --toolchain nightly
</code></pre>
<blockquote>
<p><strong>It may be necessary to occasionally rerun <code>rustup update</code></strong> if a change in the upstream Substrate
codebase depends on a new feature of the Rust compiler. When you do this, both your nightly
and stable toolchains will be pulled to the most recent release, and for nightly, it is
generally <em>not</em> expected to compile WASM without error (although it very often does).
be sure to <a href="#specifying-nightly-version">specify your nightly version</a> if you get WASM build errors
from <code>rustup</code> and <a href="#downgrading-rust-nightly">downgrade nightly as needed</a>.</p>
</blockquote>
<h4 id="rust-nightly-toolchain"><a class="header" href="#rust-nightly-toolchain">Rust Nightly Toolchain</a></h4>
<p>If you want to guarantee that your build works on your computer as you update Rust and other
dependencies, you should use a specific Rust nightly version that is known to be
compatible with the version of Substrate they are using; this version will vary from project to
project and different projects may use different mechanisms to communicate this version to
developers. For instance, the Polkadot client specifies this information in its
<a href="https://github.com/paritytech/polkadot/releases">release notes</a>.</p>
<pre><code class="language-bash"># Specify the specific nightly toolchain in the date below:
rustup install nightly-&lt;yyyy-MM-dd&gt;
</code></pre>
<h4 id="wasm-toolchain"><a class="header" href="#wasm-toolchain">Wasm Toolchain</a></h4>
<p>Now, configure the nightly version to work with the Wasm compilation target:</p>
<pre><code class="language-bash">rustup target add wasm32-unknown-unknown --toolchain nightly-&lt;yyyy-MM-dd&gt;
</code></pre>
<h4 id="specifying-nightly-version"><a class="header" href="#specifying-nightly-version">Specifying Nightly Version</a></h4>
<p>Use the <code>WASM_BUILD_TOOLCHAIN</code> environment variable to specify the Rust nightly version a Substrate
project should use for Wasm compilation:</p>
<pre><code class="language-bash">WASM_BUILD_TOOLCHAIN=nightly-&lt;yyyy-MM-dd&gt; cargo build --release
</code></pre>
<blockquote>
<p>Note that this only builds <em>the runtime</em> with the specified nightly. The rest of project will be
compiled with <strong>your default toolchain</strong>, i.e. the latest installed stable toolchain.</p>
</blockquote>
<h4 id="downgrading-rust-nightly"><a class="header" href="#downgrading-rust-nightly">Downgrading Rust Nightly</a></h4>
<p>If your computer is configured to use the latest Rust nightly and you would like to downgrade to a
specific nightly version, follow these steps:</p>
<pre><code class="language-sh">rustup uninstall nightly
rustup install nightly-&lt;yyyy-MM-dd&gt;
rustup target add wasm32-unknown-unknown --toolchain nightly-&lt;yyyy-MM-dd&gt;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../main/main-overview.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../main/first-chain/install.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../main/main-overview.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../main/first-chain/install.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
